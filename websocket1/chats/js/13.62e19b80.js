"use strict";(self["webpackChunkwebsocket"]=self["webpackChunkwebsocket"]||[]).push([[13],{5810:function(e,a,t){t.r(a),t.d(a,{default:function(){return C}});var s=t(3396),l=t(4870),d=t(9242),o=t.p+"img/base.c53cf0f0.png",r=t(7188),n=t(3417),u=t(5791),i=t(65),p=t(678),m=t(4471);const c=e=>((0,s.dD)("data-v-883b163c"),e=e(),(0,s.Cn)(),e),f={class:"login"},w=c((()=>(0,s._)("div",{class:"title"},[(0,s._)("h1",null,"后台管理系统-模板")],-1))),_={class:"box"},g=c((()=>(0,s._)("div",{class:"bg1"},[(0,s._)("img",{src:o,alt:""})],-1))),v={class:"form"},h=c((()=>(0,s._)("h2",{class:"s-title"},"后台管理系统模板",-1))),b=(0,s.Uk)("登录");var k={__name:"Login",setup(e){const a=(0,p.tv)(),t=(0,i.oR)(),o=(0,l.iH)(),c=(0,l.iH)("password"),k=(0,l.qj)({username:"",password:""}),y=(0,l.qj)({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),U=async()=>{const e={username:k.username,password:k.password};let s=await(0,m.Z)({method:"post",url:"/login",data:e});t.dispatch("set_userinfo",s.data.data.result[0]),t.dispatch("set_token",s.data.data.token);let l=await(0,m.Z)({method:"post",url:"/searchFrend",data:{frendId:s.data.data.result[0].frendId}});t.dispatch("set_friendInfo",l.data.data.result),a.push("/")};return(e,a)=>((0,s.wg)(),(0,s.iD)("div",f,[(0,s._)("div",null,[w,(0,s._)("div",_,[g,(0,s._)("div",v,[(0,s._)("div",null,[h,(0,s.Wm)((0,l.SU)(r.ly),{autoComplete:"on",model:k,rules:y,ref_key:"form",ref:o,"label-position":"left"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(r.nH),{prop:"username"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(n.EZ),{type:"text",modelValue:k.username,"onUpdate:modelValue":a[0]||(a[0]=e=>k.username=e),size:"default",autoComplete:"on",placeholder:"请输入帐号"},null,8,["modelValue"])])),_:1}),(0,s.Wm)((0,l.SU)(r.nH),{prop:"password"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(n.EZ),{name:"password",type:c.value,size:"default",onKeyup:a[1]||(a[1]=(0,d.D2)((e=>U(o.value)),["enter"])),modelValue:k.password,"onUpdate:modelValue":a[2]||(a[2]=e=>k.password=e),autoComplete:"on",placeholder:"请输入密码"},null,8,["type","modelValue"])])),_:1}),(0,s.Wm)((0,l.SU)(r.nH),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(u.mi),{type:"primary",size:"default",style:{width:"100%"},loading:e.Loading,onClick:a[3]||(a[3]=(0,d.iM)((e=>U(o.value)),["prevent"]))},{default:(0,s.w5)((()=>[b])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])])])])])]))}},y=t(89);const U=(0,y.Z)(k,[["__scopeId","data-v-883b163c"]]);var C=U}}]);
//# sourceMappingURL=13.62e19b80.js.map